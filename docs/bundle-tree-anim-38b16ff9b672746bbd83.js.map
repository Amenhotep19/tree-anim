{"version":3,"sources":["webpack://Demo/webpack/bootstrap","webpack://Demo/./src/Tree.js","webpack://Demo/./src/config.js","webpack://Demo/./src/index.js","webpack://Demo/./src/loadGrassPalette.js","webpack://Demo/./src/math.js","webpack://Demo/./src/noise.js","webpack://Demo/./src/particle-modes.js","webpack://Demo/./src/seasons.js","webpack://Demo/./src/style.css?e320"],"names":["RIGHT_ANGLE","TAU","collectPoints","tree","x","y","angle","depth","config","angleDelta","segments","radiuses","upX","Math","cos","upY","sin","x1","y1","x2","y2","nextDepth","points","push","length","angleLeft","random","angleRight","tips","x4","y4","x3","y3","Tree","Error","start","r","sqrt","r2","r3","r4","r5","LEN","WIDTH","viewBox","gravity","minLeaf","maxLeaf","numLeafs","leafWindFactor","windStrength","horizon","frostLimit","decayRate","decaySize","seasonLength","fullCrownSize","fullOpacity","minCrownSize","minOpacity","initialSeason","getCurrentSeason","grassCount","grassLength","canvas","ctx","width","height","leaf","bgContext","grassPalette","background","decayStart","seasonCount","frost","season","noise","SimplexNoise","LEAF_SIZE","LEAF_SCALE","leafs","Float32Array","reduce","a","b","max","initLeafs","autommLeavesCount","AUTUMN","i","space","LOCKED","LEAF","SNOW","updateSeason","document","body","className","drawLeafOrSnow","context","z","isLeaf","didHitGround","rnd0","noise2D","rnd1","save","translate","rotate","s","scale","drawImage","fillRect","restore","decayBackground","imageData","getImageData","dataWidth","data","changed","g","putImageData","lookupGrassStyle","n","n2","colors","drawGrass","horizonY","angleNoise","seasonMultiplier","SPRING","min","lengthNoise","c2","c1","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","opacity","render","time","Date","now","clearRect","fillStyle","windX","windY","factor","fill","WINTER","crownSize","crownOpacity","SUMMER","seasonRatio","tip","arc","particlesPerSeason","code","depthFactor","strokeWidth","raf","resizeCanvasToScreen","debounce","window","innerWidth","innerHeight","console","log","style","top","onload","getElementById","loadGrassPalette","getContext","createElement","id","appendChild","addEventListener","img","removeChild","Array","index","off","PI","F2","G2","p","buildPermutationTable","perm","Uint8Array","permMod12","grad3","grad4","xin","yin","n0","n1","floor","j","t","X0","Y0","x0","y0","i1","j1","ii","jj","t0","gi0","t1","gi1","t2","gi2","aux","_buildPermutationTable","SEASON_FOR_MONTH","getMonth"],"mappings":"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","file":"bundle-tree-anim-38b16ff9b672746bbd83.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"tree-anim\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonpDemo\"] = window[\"webpackJsonpDemo\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/index.js\",\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\nimport { TAU } from \"./math\";\n\nconst RIGHT_ANGLE = TAU / 4;\n\nfunction collectPoints(tree, x, y, angle, depth)\n{\n\n    const { angle : angleDelta, segments, radiuses } = tree.config;\n\n    const upX = Math.cos( angle) * segments[depth];\n    const upY = Math.sin( angle) * segments[depth];\n\n    const x1 = x + Math.cos( angle - RIGHT_ANGLE) * radiuses[depth];\n    const y1 = y + Math.sin( angle - RIGHT_ANGLE) * radiuses[depth];\n    const x2 = x + upX + Math.cos( angle - RIGHT_ANGLE) * radiuses[depth + 1];\n    const y2 = y + upY + Math.sin( angle - RIGHT_ANGLE) * radiuses[depth + 1];\n\n    const nextDepth = depth + 1;\n    tree.points.push(\n        x1,y1, depth,\n        x2,y2, nextDepth\n    );\n\n    if (nextDepth < segments.length - 1)\n    {\n\n        const angleLeft = angle - angleDelta * (0.5 + Math.random() * 0.5);\n        const angleRight = angle + angleDelta * (0.5 + Math.random() * 0.5);\n\n        collectPoints(tree, x + upX, y + upY, angleLeft, nextDepth);\n        collectPoints(tree, x + upX, y + upY, angleRight, nextDepth);\n    }\n\n\n    if (nextDepth === segments.length - 2)\n    {\n        tree.tips.push(\n            {\n                x:x + upX,\n                y:y + upY\n            }\n        )\n    }\n\n    const x4 = x + Math.cos( angle + RIGHT_ANGLE) * radiuses[depth];\n    const y4 = y + Math.sin( angle + RIGHT_ANGLE) * radiuses[depth];\n    const x3 = x + upX + Math.cos( angle + RIGHT_ANGLE) * radiuses[depth + 1];\n    const y3 = y + upY + Math.sin( angle + RIGHT_ANGLE) * radiuses[depth + 1];\n\n    tree.points.push(\n        x3,y3, nextDepth,\n        x4,y4, depth\n    );\n\n}\n\nexport default class Tree\n{\n    constructor(config)\n    {\n        this.config = config;\n\n\n        const { segments, radiuses } = config;\n\n        if (segments.length !== radiuses.length)\n        {\n            throw new Error(\"segments and radiuses must have the same number of elements\");\n        }\n\n        segments.push(segments[segments.length - 1]);\n        radiuses.push(1);\n\n        this.points = [];\n        this.tips = [];\n\n        const [ x, y, angle] = config.start;\n\n        collectPoints(this, x, y, angle, 0);\n\n    }\n\n}\n","import { TAU } from \"./math\";\nimport { SPRING, SUMMER, AUTUMN, WINTER, getCurrentSeason } from \"./seasons\";\n\nconst r = (1+Math.sqrt(5))/2;\nconst r2 = r*r;\nconst r3 = r*r*r;\nconst r4 = r*r*r*r;\nconst r5 = r*r*r*r*r;\n\nconst LEN = 200;\nconst WIDTH = 40;\n\nexport  default {\n\n    // trees are drawn inside [0,0 ... 1000,1000], this renders it a bit higher for design reasons\n    viewBox: \"0 15 1000 1000\",\n\n    start: [500,1000, -TAU / 4],\n\n    angle: TAU * 0.125,\n\n    segments: [ LEN, LEN /r, LEN / r2, LEN / r3, LEN/ r4, LEN/r5],\n    radiuses: [ WIDTH, WIDTH /r, WIDTH / r2, WIDTH / r3, WIDTH/ r4, WIDTH/r5],\n\n    gravity: 4,\n\n    minLeaf: 0.2,\n    maxLeaf: 0.6,\n    \n    numLeafs: [500,100, 100, 500],\n    leafWindFactor: [0.01,0.01,0.05,0.02],\n\n    windStrength: [ 0.2, 0.1, 0.5, 0.01],\n    horizon: 0.61,\n\n    frostLimit: 80,\n    \n    // setting this higher might slow the simulation down\n    decayRate: 13,\n\n    decaySize: 40,\n    \n    seasonLength: 60 * 45,\n\n    fullCrownSize: 75,\n    fullOpacity: 0.4,\n    minCrownSize: 8,\n    minOpacity: 0.3,\n\n    initialSeason: getCurrentSeason(),\n\n    grassCount: 100,\n    grassLength: 50\n}\n","import Tree from \"./Tree\";\nimport debounce from \"debounce\";\nimport raf from \"raf\";\n\nimport config from \"./config\"\nimport SimplexNoise from \"./noise\"\nimport { TAU } from \"./math\";\n// noinspection ES6UnusedImports\nimport STYLE from \"./style.css\"\n\nimport { AUTUMN, SPRING, SUMMER, WINTER } from \"./seasons\";\nimport { LEAF, LOCKED, SNOW } from \"./particle-modes\";\nimport loadGrassPalette from \"./loadGrassPalette\";\n\n\nlet canvas, ctx, tree, start, width, height, leaf, bgContext, grassPalette;\n\nlet background, decayStart, seasonCount = 0, frost = 0;\n\nlet season = config.initialSeason;\nlet leafWindFactor = config.leafWindFactor[season];\nlet windStrength = config.windStrength[season];\n\nconst noise = new SimplexNoise();\n\nconst LEAF_SIZE = 4;\nconst LEAF_SCALE = 0.5;\n\nconst leafs = new Float32Array(config.numLeafs.reduce((a,b) => Math.max(a,b), 0) * LEAF_SIZE);\n\n\nfunction initLeafs()\n{\n    const { numLeafs, initialSeason } = config;\n\n    const autommLeavesCount = numLeafs[AUTUMN] * LEAF_SIZE;\n\n    for (let i = 0; i < leafs.length; i += LEAF_SIZE)\n    {\n        leafs[i] = Math.random() * width;\n\n        const space = initialSeason < AUTUMN ? 1 : i <  autommLeavesCount ? 0.5 : 1;\n\n        leafs[i + 1] = Math.random() * -height - space * height ;\n        leafs[i + 2] = Math.random();\n        leafs[i + 3] = initialSeason < AUTUMN ? LOCKED : initialSeason === AUTUMN && i < autommLeavesCount ? LEAF : SNOW;\n    }\n}\n\n\nfunction updateSeason()\n{\n    document.body.className = \"season-\" + season;\n}\n\n\nfunction drawLeafOrSnow(context, x, y, z, i, isLeaf, didHitGround)\n{\n\n    const rnd0 = noise.noise2D(x * 0.0001 + i, y * 0.001);\n    const rnd1 = noise.noise2D(y * 0.0001, x * 0.001);\n\n    // const dx = noise.noise2D( y, x);\n    // const dy = noise.noise2D( x, y);\n    //\n    // x += dx;\n    // y += dy;\n\n    x += rnd1;\n    y -= rnd1;\n\n    const angle = rnd0 * TAU;\n\n    context.save();\n    context.translate(x - 32, y + (didHitGround ? - decayStart: 0) - 18);\n\n    if (isLeaf || !didHitGround)\n    {\n        context.rotate(angle);\n\n    }\n    const s = config.minLeaf + z * (config.maxLeaf - config.minLeaf);\n    context.scale(s, s);\n\n    if (isLeaf)\n    {\n        context.drawImage(leaf, 0, 0);\n    }\n    else\n    {\n        if (didHitGround)\n        {\n            context.fillRect(0, 0, 48, 10);\n        }\n        else\n        {\n            context.fillRect(0, 0, 24, 24);\n        }\n    }\n    context.restore();\n}\n\n\nfunction decayBackground()\n{\n\n    const x = Math.random() * (width - config.decaySize);\n    const y = Math.random() * (height - decayStart - config.decaySize);\n    const imageData = bgContext.getImageData(x, y,  config.decaySize, config.decaySize);\n\n    const dataWidth = imageData.data.length;\n\n    let changed = false;\n    for (let i = 0; i < dataWidth; i += 4)\n    {\n        let r = imageData.data[i];\n        let g = imageData.data[i + 1];\n        const b = imageData.data[i + 2];\n        const a = imageData.data[i + 3];\n\n        if (a === 255)\n        {\n            if (g > 66)\n            {\n                if (r < g)\n                {\n                    r += 6;\n                }\n                else\n                {\n                    if (r > 140 || g < 120)\n                    {\n                        r -= 1;\n                    }\n                    g -= 1;\n                }\n                imageData.data[i] = r;\n                imageData.data[i + 1] = g;\n                changed = true;\n            }\n        }\n        else\n        {\n            if (season < AUTUMN && r + b > g)\n            {\n                imageData.data[i + 3] -= 8;\n                changed = true;\n            }\n        }\n    }\n\n    if (changed)\n    {\n        bgContext.putImageData(imageData, x, y);\n    }\n}\n\n\nfunction lookupGrassStyle(n, n2)\n{\n    const { width, height, colors} = grassPalette;\n\n    const x = ((width - 1) * n)|0;\n    const y = ((height - 1) * n2)|0;\n\n    //console.log(\"lookupGrassStyle\", n, n2, x, y);\n\n    return grassPalette.colors[width * y + x];\n}\n\nfunction drawGrass()\n{\n    const {grassLength, horizon} = config;\n\n    for (let i = 0; i < config.grassCount; i++)\n    {\n\n        const x = (Math.random() * width) | 0;\n        const z = Math.random();\n\n        const horizonY = ((height * horizon) | 0) - decayStart;\n\n        const y = (horizonY + (background.height - horizonY) * z) | 0;\n\n        const angleNoise = noise.noise2D(x * 0.01, (y + i )* 0.01);\n\n        const seasonMultiplier = season === SPRING ? Math.min(1, seasonCount * 3 / config.seasonLength) : 1;\n        const lengthNoise = (0.5 + noise.noise2D(x * 0.004, y  * 0.04) * 0.7) * seasonMultiplier;\n        const c2 = noise.noise2D(x * 0.0005, y  * 0.004);\n        const c1 = Math.random();\n\n        const angle = TAU / 4 + angleNoise * TAU / 16 - TAU / 32;\n\n        bgContext.strokeStyle = lookupGrassStyle(c1, c2);\n        bgContext.lineWidth = 1 + z * 3;\n\n        bgContext.beginPath();\n        bgContext.moveTo(x, y);\n        bgContext.lineTo(x + Math.cos(angle) * grassLength * lengthNoise, y + Math.sin(angle) * grassLength * lengthNoise);\n        bgContext.stroke();\n    }\n    bgContext.opacity = 1;\n}\n\n\nfunction render()\n{\n    const { gravity, horizon, fullOpacity, fullCrownSize, minCrownSize, minOpacity, seasonLength} = config;\n\n    seasonCount++;\n    if (seasonCount > seasonLength)\n    {\n        seasonCount = 0;\n        season = (season + 1) & 3;\n\n        updateSeason();\n    }\n\n    const {points, tips} = tree;\n\n    const time = Date.now() - start;\n\n    ctx.clearRect(0, 0, width, height);\n\n    ctx.fillStyle = \"#90482a\";\n    ctx.beginPath();\n\n    const windX = Math.cos(time * 0.0003) * 100;\n    const windY = Math.cos(time * 0.0007) * 60;\n\n    ctx.moveTo(points[0], points[1]);\n\n    for (let i = 3; i < points.length; i += 3)\n    {\n\n        const x = points[i];\n        const y = points[i + 1];\n        const depth = points[i + 2];\n\n        const factor = noise.noise2D(x * 0.001 + time * 0.0005, y * 0.001) * (depth * 0.05);\n\n        ctx.lineTo((x + windX * factor), (y + windY * factor));\n    }\n\n    ctx.fill();\n\n    if (season !== WINTER)\n    {\n        let crownSize, crownOpacity;\n\n        if (season === SUMMER)\n        {\n            crownSize = config.fullCrownSize;\n            crownOpacity = config.fullOpacity;\n        }\n\n        if (season === AUTUMN)\n        {\n            const seasonRatio = Math.max((seasonCount / seasonLength) * 2 - 1, 0);\n            crownSize = fullCrownSize - (fullCrownSize - minCrownSize) * seasonRatio;\n            crownOpacity = fullOpacity - (fullOpacity - minOpacity) * seasonRatio;\n        }\n\n        if (season === SPRING)\n        {\n            const seasonRatio = 1 - Math.min((seasonCount / seasonLength) * 2, 1);\n            crownSize = fullCrownSize - (fullCrownSize - minCrownSize) * seasonRatio;\n            crownOpacity = fullOpacity - (fullOpacity - minOpacity) * seasonRatio;\n        }\n\n        ctx.fillStyle = \"rgba(10,160,60,\" + crownOpacity + \")\";\n        for (let i = 0; i < tips.length; i++)\n        {\n            const tip = tips[i];\n\n            ctx.beginPath();\n            ctx.moveTo(tip.x, tip.y);\n\n            const factor = noise.noise2D(tip.x * 0.001 + time * 0.0005, tip.y * 0.001) * windStrength;\n\n            ctx.arc((tip.x + windX * factor), (tip.y + windY * factor), crownSize, 0, TAU, false);\n            ctx.fill();\n        }\n    }\n\n    bgContext.fillStyle = ctx.fillStyle = \"rgba(255,255,255,0.9)\";\n\n    if (season !== SUMMER)\n    {\n        const particlesPerSeason = config.numLeafs[season] * LEAF_SIZE;\n        for (let i = 0; i < particlesPerSeason; i += LEAF_SIZE)\n        {\n            let x = leafs[i] + windX * leafWindFactor;\n            let z = leafs[i + 2];\n            let y = leafs[i + 1];\n            let code = leafs[i + 3];\n\n            if (code === LOCKED)\n            {\n                if (season === AUTUMN)\n                {\n                    code = leafs[i + 3] = LEAF;\n                }\n                else if (season === WINTER)\n                {\n                    code = leafs[i + 3] = SNOW;\n                }\n                else\n                {\n                    continue;\n                }\n            }\n\n            const isLeaf = code === LEAF;\n\n            const depthFactor = z * 0.5;\n            y += 2 + gravity * depthFactor + windY * leafWindFactor * depthFactor;\n\n            if (x < -64)\n            {\n                x += width + 128;\n            }\n\n\n            if (x > width + 64)\n            {\n                x -= width + 128;\n            }\n            if (y > height + 64)\n            {\n                y -= height + 192;\n            }\n\n            leafs[i] = x;\n            leafs[i + 1] = y;\n\n            if (y > -64)\n            {\n                const horizonY = (height * horizon + 32)|0;\n                const didHitGround = y > horizonY + (height - horizonY) * z;\n\n                const context = didHitGround ? bgContext : ctx;\n                drawLeafOrSnow(context, x, y, z, i, isLeaf, didHitGround);\n\n                if (didHitGround)\n                {\n                    leafs[i] = Math.random() * width;\n\n                    if (season === WINTER)\n                    {\n                        // give a little extra space when switching to snow\n                        leafs[i + 1] = isLeaf  ? Math.random() * -height - height : -32;\n                        leafs[i + 3] = SNOW;\n\n                        if (!isLeaf && frost < config.frostLimit)\n                        {\n                            frost++;\n                        }\n                    }\n                    else if (season === AUTUMN)\n                    {\n                        leafs[i + 1] = -32;\n                        leafs[i + 3] = LEAF;\n                    }\n                    else\n                    {\n                        leafs[i + 1] = Math.random() * -height - height;\n                        leafs[i + 3] = LOCKED;\n                    }\n                }\n            }\n        }\n    }\n\n    // ctx.beginPath();\n    // ctx.moveTo(0,config.horizon * height);\n    // ctx.lineTo(width,config.horizon * height);\n    // ctx.stroke();\n\n    if (season === AUTUMN)\n    {\n        for (let i = 0; i < config.decayRate; i++)\n        {\n            decayBackground();\n        }\n        frost = 0;\n    }\n\n    if (season === WINTER && frost >= config.frostLimit && (seasonCount & 3) === 0)\n    {\n        bgContext.fillStyle = \"rgba(255,255,255,0.006)\";\n        bgContext.fillRect(0,32,width,background.height - 32);\n    }\n\n    if (season === SPRING)\n    {\n        if (frost <= 0)\n        {\n            bgContext.strokeWidth = 2;\n            drawGrass();\n        }\n        else\n        {\n            frost -= 0.3;\n        }\n    }\n\n\n    windStrength += (config.windStrength[season] - windStrength) * 0.05;\n    leafWindFactor += (config.leafWindFactor[season] - leafWindFactor) * 0.05;\n\n    raf(render)\n}\n\n\nconst resizeCanvasToScreen = debounce(() => {\n    width = (window.innerWidth - 1) | 0;\n    height = (window.innerHeight - 1) | 0;\n\n    initLeafs();\n\n    canvas.width = width;\n    canvas.height = height;\n\n    // reset our decay line to the current horizon plus safety\n    decayStart = (height * config.horizon - 32) | 0;\n\n    console.log(\"size: \", width, \"x\", height, \"decayStart\", decayStart);\n\n    background.width = width;\n    background.height = height - decayStart;\n\n    background.style.top = decayStart + \"px\";\n\n    bgContext.fillStyle = \"rgba(53, 104, 45, 0.9)\";\n    bgContext.fillRect(0, 40, width, background.height);\n\n    config.start[0] = width / 2;\n    config.start[1] = height * 0.75;\n\n    tree = new Tree(config);\n\n    seasonCount = 0;\n    season = config.initialSeason;\n\n    if (season !== SPRING)\n    {\n        for (let i = 0; i < config.seasonLength / 3; i++)\n        {\n            drawGrass();\n        }\n    }\n    else\n    {\n        bgContext.fillStyle = \"rgba(255,255,255,0.95)\";\n        bgContext.fillRect(0,32,width,background.height - 32);\n\n        frost = config.frostLimit;\n    }\n\n\n}, 150, true);\n\nwindow.onload = () => {\n    updateSeason();\n\n    canvas = document.getElementById(\"screen\");\n    leaf = document.getElementById(\"leaf\");\n    grassPalette = loadGrassPalette(document.getElementById(\"grass\"));\n\n    console.log({grassPalette})\n\n    ctx = canvas.getContext(\"2d\");\n\n    background = document.createElement(\"canvas\");\n    background.id = \"bg\";\n\n    bgContext = background.getContext(\"2d\");\n\n    resizeCanvasToScreen();\n\n\n    document.body.appendChild(background);\n\n    window.addEventListener(\"resize\", resizeCanvasToScreen, true);\n\n    start = Date.now();\n    raf(render)\n};\n\n","export default function loadGrassPalette(img)\n{\n    const canvas = document.createElement(\"canvas\")\n    const width = img.width;\n    const height = img.height;\n    canvas.width = width;\n    canvas.height = height;\n    canvas.className=\"offscreen\";\n\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0 , 0);\n\n    const imageData = ctx.getImageData(0, 0, width, height);\n\n    document.body.removeChild(canvas);\n\n\n    const colors = new Array(width * height);\n\n    const lineWidth = imageData.width * 4;\n    const data = imageData.data;\n\n    let index = 0;\n    for(let y = 0; y < height; y++)\n    {\n        for(let x = 0; x < width; x++)\n        {\n            const off = y * lineWidth + x * 4;\n            colors[index++] = \"rgba(\" + data[off] + \",\"  + data[off + 1] + \",\"  + data[off + 2] + \", 0.99)\"\n        }\n    }\n\n    return {\n        width,\n        height,\n        colors\n    };\n}\n","\nexport const TAU = Math.PI * 2;\n","/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n *\n * Based on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\n * Which is based on example code by Stefan Gustavson (stegu@itn.liu.se).\n * With Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\n * Better rank ordering method by Stefan Gustavson in 2012.\n *\n *\n * Copyright (C) 2016 Jonas Wagner\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n */\n\n// Code take from NPM module \"simplex-noise\", but only the noise2D code\n\nconst F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\nconst G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n\nclass SimplexNoise {\n    constructor(random)\n    {\n        if (!random)\n        {\n            random = Math.random;\n        }\n        this.p = buildPermutationTable(random);\n        this.perm = new Uint8Array(512);\n        this.permMod12 = new Uint8Array(512);\n        for (let i = 0; i < 512; i++)\n        {\n            this.perm[i] = this.p[i & 255];\n            this.permMod12[i] = this.perm[i] % 12;\n        }\n        this.grad3 = new Float32Array([1, 1, 0,\n            -1, 1, 0,\n            1, -1, 0,\n\n            -1, -1, 0,\n            1, 0, 1,\n            -1, 0, 1,\n\n            1, 0, -1,\n            -1, 0, -1,\n            0, 1, 1,\n\n            0, -1, 1,\n            0, 1, -1,\n            0, -1, -1]);\n        this.grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n            0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n            1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n            -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n            1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n            -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n            1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n            -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);\n\n    }\n\n    noise2D(xin, yin)\n    {\n        const permMod12 = this.permMod12;\n        const perm = this.perm;\n        const grad3 = this.grad3;\n        let n0 = 0; // Noise contributions from the three corners\n        let n1 = 0;\n        let n2 = 0;\n        // Skew the input space to determine which simplex cell we're in\n        const s = (xin + yin) * F2; // Hairy factor for 2D\n        const i = Math.floor(xin + s);\n        const j = Math.floor(yin + s);\n        const t = (i + j) * G2;\n        const X0 = i - t; // Unskew the cell origin back to (x,y) space\n        const Y0 = j - t;\n        const x0 = xin - X0; // The x,y distances from the cell origin\n        const y0 = yin - Y0;\n        // For the 2D case, the simplex shape is an equilateral triangle.\n        // Determine which simplex we are in.\n        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n        if (x0 > y0)\n        {\n            i1 = 1;\n            j1 = 0;\n        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n        else\n        {\n            i1 = 0;\n            j1 = 1;\n        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n        // c = (3-sqrt(3))/6\n        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n        const y1 = y0 - j1 + G2;\n        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n        const y2 = y0 - 1.0 + 2.0 * G2;\n        // Work out the hashed gradient indices of the three simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        // Calculate the contribution from the three corners\n        let t0 = 0.5 - x0 * x0 - y0 * y0;\n        if (t0 >= 0)\n        {\n            const gi0 = permMod12[ii + perm[jj]] * 3;\n            t0 *= t0;\n            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n        }\n        let t1 = 0.5 - x1 * x1 - y1 * y1;\n        if (t1 >= 0)\n        {\n            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n            t1 *= t1;\n            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n        }\n        let t2 = 0.5 - x2 * x2 - y2 * y2;\n        if (t2 >= 0)\n        {\n            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n            t2 *= t2;\n            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n        }\n        // Add contributions from each corner to get the final noise value.\n        // The result is scaled to return values in the interval [-1,1].\n        return 70.0 * (n0 + n1 + n2);\n    }\n}\n\nfunction buildPermutationTable(random)\n{\n    let i;\n    const p = new Uint8Array(256);\n    for (i = 0; i < 256; i++)\n    {\n        p[i] = i;\n    }\n    for (i = 0; i < 255; i++)\n    {\n        const r = i + 1 + ~~(random() * (255 - i));\n        const aux = p[i];\n        p[i] = p[r];\n        p[r] = aux;\n    }\n    return p;\n}\nSimplexNoise._buildPermutationTable = buildPermutationTable;\n\nexport  default SimplexNoise\n","export const LEAF = 0;\nexport const SNOW = 1;\nexport const LOCKED = 2;\n","export const SPRING = 0;\nexport const SUMMER = 1;\nexport const AUTUMN = 2;\nexport const WINTER = 3;\n\nconst SEASON_FOR_MONTH = [\n    WINTER,\n    WINTER,\n    SPRING,\n    SPRING,\n    SPRING,\n    SUMMER,\n    SUMMER,\n    SUMMER,\n    AUTUMN,\n    AUTUMN,\n    AUTUMN,\n    WINTER,\n];\n\nexport function getCurrentSeason()\n{\n    return SEASON_FOR_MONTH[ new Date().getMonth()];\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}